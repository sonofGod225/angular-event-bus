{"version":3,"file":"angular-event-bus.umd.js","sources":["ng://angular-event-bus/lib/angular-event-bus.service.ts","ng://angular-event-bus/lib/angular-event-bus.component.ts","ng://angular-event-bus/lib/angular-event-bus.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Subscription, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularEventBusService {\n\n  private channels: { [key: string]: Subject<any>; } = {};\n\n  /**\n   * Subscribe to a topic and provide a single handler/observer.\n   * @param topic The name of the topic to subscribe to.\n   * @param observer The observer or callback function to listen when changes are published.\n   *\n   * @returns Subscription from which you can unsubscribe to release memory resources and to prevent memory leak.\n   */\n  subscribe(topic: string, observer: (_: any) => void): Subscription {\n    if (!this.channels[topic]) {\n      this.channels[topic] = new Subject<any>();\n    }\n\n    return this.channels[topic].subscribe(observer);\n  }\n\n  /**\n   * Publish some data to the subscribers of the given topic.\n   * @param topic The name of the topic to emit data to.\n   * @param data data in any format to pass on.\n   */\n  publish(topic: string, data: any): void {\n    const subject = this.channels[topic];\n    if (!subject) {\n      // Or you can create a new subject for future subscribers\n      return;\n    }\n\n    subject.next(data);\n  }\n\n  /**\n   * When you are sure that you are done with the topic and the subscribers no longer needs to listen to a particular topic, you can\n   * destroy the observable of the topic using this method.\n   * @param topic The name of the topic to destroy.\n   */\n  destroy(topic: string): null {\n    const subject = this.channels[topic];\n    if (!subject) {\n      return;\n    }\n\n    subject.complete();\n    delete this.channels[topic];\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-angular-event-bus',\n  template: `\n    <p>\n      angular-event-bus works!\n    </p>\n  `,\n  styles: []\n})\nexport class AngularEventBusComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { AngularEventBusComponent } from './angular-event-bus.component';\n\n\n\n@NgModule({\n  declarations: [AngularEventBusComponent],\n  imports: [\n  ],\n  exports: [AngularEventBusComponent]\n})\nexport class AngularEventBusModule { }\n"],"names":["Subject","Injectable","Component","NgModule"],"mappings":";;;;;;;;;;;AAAA;QAGA;YAKU,aAAQ,GAAqC,EAAE,CAAC;SA8CzD;;;;;;;;;;;;;;;QArCC,0CAAS;;;;;;;QAAT,UAAU,KAAa,EAAE,QAA0B;YACjD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;gBACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAIA,YAAO,EAAO,CAAC;aAC3C;YAED,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;SACjD;;;;;;;;;;;;QAOD,wCAAO;;;;;;QAAP,UAAQ,KAAa,EAAE,IAAS;;gBACxB,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YACpC,IAAI,CAAC,OAAO,EAAE;;gBAEZ,OAAO;aACR;YAED,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACpB;;;;;;;;;;;;QAOD,wCAAO;;;;;;QAAP,UAAQ,KAAa;;gBACb,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YACpC,IAAI,CAAC,OAAO,EAAE;gBACZ,OAAO;aACR;YAED,OAAO,CAAC,QAAQ,EAAE,CAAC;YACnB,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SAC7B;;oBAlDFC,eAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;qCALD;KAGA,IAmDC;;;;;;QA9CC,0CAAwD;;;;;;;;ACR1D;QAaE;SAAiB;;;;QAEjB,2CAAQ;;;QAAR;SACC;;oBAdFC,cAAS,SAAC;wBACT,QAAQ,EAAE,uBAAuB;wBACjC,QAAQ,EAAE,yDAIT;qBAEF;;;;QAQD,+BAAC;KAhBD;;;;;;;ACFA;QAKA;SAMsC;;oBANrCC,aAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,wBAAwB,CAAC;wBACxC,OAAO,EAAE,EACR;wBACD,OAAO,EAAE,CAAC,wBAAwB,CAAC;qBACpC;;QACoC,4BAAC;KANtC;;;;;;;;;;;;;;"}